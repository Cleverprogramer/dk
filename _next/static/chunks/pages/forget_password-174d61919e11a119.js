(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6561],{25097:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/forget_password",function(){return n(16761)}])},16761:function(e,r,n){"use strict";n.r(r);var t=n(47568),s=n(34051),o=n.n(s),a=n(85893),u=n(67294),l=n(11163),c=n(5144),d=n(74931),i=n(9669),p=n.n(i),f=n(9008),h=n.n(f);r.default=function(){var e=(0,u.useState)(""),r=e[0],n=e[1],s=(0,u.useState)(!1),i=s[0],f=s[1],m=(0,u.useState)(""),g=m[0],w=m[1],b=(0,u.useState)(""),x=b[0],v=b[1],y=(0,u.useState)(!1),j=y[0],N=y[1],k=(0,u.useContext)(c._).state.user,_=(0,l.useRouter)(),C=function(){var e=(0,t.Z)(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,N(!0),e.next=5,p().post("/api/send-reset-code",{email:r});case 5:t=e.sent.data,console.log(t),f(!0),d.ZP.success("Please Check your Email Inbox to get Reset Code"),N(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.response),N(!1),d.ZP.error(e.t0.response.data);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(r){return e.apply(this,arguments)}}(),P=function(){var e=(0,t.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,N(!0),e.next=5,p().post("/api/reset-password",{email:r,code:g,newPassword:x});case 5:e.sent.data,d.ZP.success("Great Your Password Was Changed Successfully \ud83d\ude0a"),n(""),w(""),v(""),f(!1),N(!1),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),d.ZP.error(e.t0.response.data),N(!1);case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(r){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){null!==k&&_.push("/")}),[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h(),{children:(0,a.jsx)("title",{children:"Forget Password"})}),(0,a.jsx)("div",{className:"min-h-screen py-24 px-10",children:(0,a.jsx)("div",{className:"p-10 md:w-3/4 lg:w-1/3 mx-auto rounded-md bg-white shadow-2xl",children:(0,a.jsxs)("form",{onSubmit:i?P:C,children:[(0,a.jsx)("label",{htmlFor:"",className:"block mb-1 font-bold text-gray-600",children:"Email"}),(0,a.jsx)("input",{type:"email",placeholder:"email",className:"border border-gray-300 p-3 rounded-md shadow w-full border-transparent focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent my-3",value:r,onChange:function(e){return n(e.target.value)}}),i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{htmlFor:"",className:"block mb-1 font-bold text-gray-600",children:"Code"}),(0,a.jsx)("input",{type:"text",placeholder:"Code",className:"border border-gray-300 p-3 rounded-md shadow w-full border-transparent focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent my-3",value:g,onChange:function(e){return w(e.target.value)}}),(0,a.jsx)("label",{htmlFor:"",className:"block mb-1 font-bold text-gray-600",children:"New Password"}),(0,a.jsx)("input",{type:"password",placeholder:"New Password",className:"border border-gray-300 p-3 rounded-md shadow w-full border-transparent focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent my-4",value:x,onChange:function(e){return v(e.target.value)}})]}),(0,a.jsx)("button",{type:"submit",className:"rounded shadow-lg bg-green-800 text-white w-full py-3 hover:bg-dugsiiye_700_green text-base",disabled:!r||j,children:j?(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 m-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}):"Send"})]})})})]})}}},function(e){e.O(0,[9774,2888,179],(function(){return r=25097,e(e.s=r);var r}));var r=e.O();_N_E=r}]);